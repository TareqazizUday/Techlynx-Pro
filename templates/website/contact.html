{% extends 'base.html' %}
{% load static %}

{% block title %}Contact Techlynx Pro | Get Free IT Consultation & Quote{% endblock %}

{% block extra_css %}
    /* Hide default messages on contact page - we use popup instead */
    /* Hide message containers and colored message divs */
    div[class*="max-w-7xl"][class*="mx-auto"][class*="px-4"][class*="py-4"] {
        display: none !important;
        visibility: hidden !important;
        height: 0 !important;
        padding: 0 !important;
        margin: 0 !important;
        overflow: hidden !important;
        opacity: 0 !important;
    }
    div[class*="bg-green-100"],
    div[class*="bg-red-100"],
    div[class*="bg-blue-100"],
    div[class*="bg-green-900"],
    div[class*="bg-red-900"],
    div[class*="bg-blue-900"] {
        display: none !important;
    }
{% endblock %}

{% block meta_description %}Get your free strategy consultation and project quote from Techlynx Pro. Contact our US-based IT experts for web development, AI solutions, digital marketing, and more. Call +1 (520) 666-4699 or email hello@techlynxpro.com. Fast response within 24 hours!{% endblock %}

{% block meta_keywords %}contact us, free consultation, get quote, IT consultation, project quote, contact form, hire developers, business inquiry, tech support, client portal{% endblock %}

{% block og_title %}Contact Us | Free IT Consultation & Project Quote{% endblock %}

{% block og_description %}Contact our US experts for free consultation. Web development, AI, marketing services. Call +1 (520) 666-4699. 24hr response!{% endblock %}

{% block content %}
<main>
<!-- Hero Section -->
<section class="relative overflow-hidden pt-12 pb-12 lg:pt-16 lg:pb-16 bg-background-light dark:bg-background-dark">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center max-w-3xl mx-auto mb-8">
            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-primary/10 text-primary mb-6 uppercase tracking-wider">
                <span class="material-symbols-outlined text-sm">forum</span> Let's Connect
            </span>
            <h1 class="text-4xl md:text-6xl font-black text-slate-900 dark:text-white leading-[1.1] mb-6">
                Ready to Transform Your <span class="text-primary">Digital Presence?</span>
            </h1>
            <p class="text-lg md:text-xl text-slate-600 dark:text-slate-400 leading-relaxed">
                Get a custom proposal from our expert team. Most inquiries receive a detailed response within 24 hours.
            </p>
        </div>

        <div class="grid lg:grid-cols-3 gap-6">
            <div class="bg-white dark:bg-slate-900 p-6 rounded-xl border border-[#e7ecf3] dark:border-slate-800 text-center">
                <div class="size-14 mx-auto rounded-lg bg-primary/10 flex items-center justify-center text-primary mb-4">
                    <span class="material-symbols-outlined text-3xl">schedule</span>
                </div>
                <h3 class="font-bold text-slate-900 dark:text-white mb-2">Fast Response</h3>
                <p class="text-sm text-slate-600 dark:text-slate-400">Get a response within 24 hours on business days</p>
            </div>
            <div class="bg-white dark:bg-slate-900 p-6 rounded-xl border border-[#e7ecf3] dark:border-slate-800 text-center">
                <div class="size-14 mx-auto rounded-lg bg-primary/10 flex items-center justify-center text-primary mb-4">
                    <span class="material-symbols-outlined text-3xl">workspace_premium</span>
                </div>
                <h3 class="font-bold text-slate-900 dark:text-white mb-2">Expert Team</h3>
                <p class="text-sm text-slate-600 dark:text-slate-400">Certified professionals with 15+ years experience</p>
            </div>
            <div class="bg-white dark:bg-slate-900 p-6 rounded-xl border border-[#e7ecf3] dark:border-slate-800 text-center">
                <div class="size-14 mx-auto rounded-lg bg-primary/10 flex items-center justify-center text-primary mb-4">
                    <span class="material-symbols-outlined text-3xl">verified_user</span>
                </div>
                <h3 class="font-bold text-slate-900 dark:text-white mb-2">No Obligation</h3>
                <p class="text-sm text-slate-600 dark:text-slate-400">Free consultation and project assessment</p>
            </div>
        </div>
    </div>
</section>

<!-- Contact Form & Info Section -->
<section class="py-24 bg-white dark:bg-background-dark">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid lg:grid-cols-2 gap-16">
            <!-- Contact Form -->
            <div>
                <h2 class="text-3xl font-bold text-slate-900 dark:text-white mb-6">Send Us a Message</h2>
                <form method="post" action="{% url 'contact' %}" class="space-y-6" id="contactForm">
                    {% csrf_token %}
                    <!-- Hidden tracking fields -->
                    <input type="hidden" name="source_url" id="source_url" value="{{ current_url|default:request.build_absolute_uri }}">
                    <input type="hidden" name="utm_source" value="{{ utm_source }}">
                    <input type="hidden" name="utm_medium" value="{{ utm_medium }}">
                    <input type="hidden" name="utm_campaign" value="{{ utm_campaign }}">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2">Full Name *</label>
                            <input name="full_name" required class="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent px-4 py-3 outline-none transition-all" placeholder="John Smith" type="text"/>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2">Email Address *</label>
                            <input name="email" required class="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent px-4 py-3 outline-none transition-all" placeholder="john@company.com" type="email"/>
                        </div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2">Phone Number</label>
                            <input name="phone" class="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent px-4 py-3 outline-none transition-all" placeholder="+1 (555) 000-0000" type="tel"/>
                        </div>
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2">Company Name</label>
                            <input name="company" class="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent px-4 py-3 outline-none transition-all" placeholder="Your Company" type="text"/>
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2">Service Interest *</label>
                        <select name="service_interest" required class="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent px-4 py-3 outline-none transition-all">
                            <option value="">Select a service...</option>
                            <option value="web-development">Web Development</option>
                            <option value="digital-marketing">Digital Marketing</option>
                            <option value="ai-solutions">AI Solutions</option>
                            <option value="app-development">App Development</option>
                            <option value="seo-audit">SEO Audit</option>
                            <option value="project-management">Project Management</option>
                            <option value="finance-accounting">Finance & Accounting</option>
                            <option value="content-production">Content Production</option>
                            <option value="other">Other / Multiple Services</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2">Budget Range</label>
                        <select name="budget_range" class="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent px-4 py-3 outline-none transition-all">
                            <option value="">Select budget range...</option>
                            <option value="5k-10k">$5,000 - $10,000</option>
                            <option value="10k-25k">$10,000 - $25,000</option>
                            <option value="25k-50k">$25,000 - $50,000</option>
                            <option value="50k-100k">$50,000 - $100,000</option>
                            <option value="100k+">$100,000+</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2">Project Details *</label>
                        <textarea name="project_details" required class="w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent px-4 py-3 outline-none transition-all" placeholder="Tell us about your project, goals, and timeline..." rows="5"></textarea>
                    </div>

                    <button type="submit" class="w-full bg-primary hover:bg-primary/90 text-white font-bold py-4 rounded-lg shadow-lg shadow-primary/20 transition-all flex items-center justify-center gap-2">
                        <span>Send Message</span>
                        <span class="material-symbols-outlined">send</span>
                    </button>

                    <p class="text-xs text-slate-500 dark:text-slate-400 text-center">
                        By submitting this form, you agree to our <a href="{% url 'privacy_policy' %}" class="text-primary hover:underline">Privacy Policy</a>
                    </p>
                </form>
            </div>
            
            <script>
                // Update source URL when form is submitted
                document.getElementById('contactForm').addEventListener('submit', function() {
                    document.getElementById('source_url').value = window.location.href;
                });
            </script>

            <!-- Success/Error Notification Popup -->
            {% if messages %}
            <div id="notification-popup" class="fixed top-4 right-4 z-50 transform translate-x-full transition-transform duration-300 ease-in-out">
                {% for message in messages %}
                <div class="bg-white dark:bg-slate-900 border-l-4 {% if message.tags == 'success' %}border-green-500{% elif message.tags == 'error' %}border-red-500{% else %}border-blue-500{% endif %} rounded-lg shadow-2xl p-6 min-w-[350px] max-w-md mb-4">
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0">
                            {% if message.tags == 'success' %}
                            <div class="w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center">
                                <span class="material-symbols-outlined text-green-600 dark:text-green-400 text-2xl">check_circle</span>
                            </div>
                            {% elif message.tags == 'error' %}
                            <div class="w-10 h-10 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center">
                                <span class="material-symbols-outlined text-red-600 dark:text-red-400 text-2xl">error</span>
                            </div>
                            {% else %}
                            <div class="w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center">
                                <span class="material-symbols-outlined text-blue-600 dark:text-blue-400 text-2xl">info</span>
                            </div>
                            {% endif %}
                        </div>
                        <div class="flex-1">
                            <p class="text-slate-900 dark:text-white font-semibold mb-1">
                                {% if message.tags == 'success' %}Success!{% elif message.tags == 'error' %}Error{% else %}Notice{% endif %}
                            </p>
                            <p class="text-sm text-slate-600 dark:text-slate-400">{{ message }}</p>
                        </div>
                        <button onclick="closeNotification()" class="flex-shrink-0 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors">
                            <span class="material-symbols-outlined text-xl">close</span>
                        </button>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% endif %}

            <!-- Contact Information -->
            <div class="space-y-8">
                <div>
                    <h2 class="text-3xl font-bold text-slate-900 dark:text-white mb-6">Get In Touch</h2>
                    <p class="text-slate-600 dark:text-slate-400 leading-relaxed mb-8">
                        Have questions? Our team is here to help. Reach out through any of these channels and we'll get back to you promptly.
                    </p>
                </div>

                <div class="space-y-4">
                    <!-- Email -->
                    <div class="flex gap-4 p-6 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800">
                        <div class="flex-shrink-0">
                            <div class="size-12 rounded-lg bg-primary/10 flex items-center justify-center text-primary">
                                <span class="material-symbols-outlined text-2xl">mail</span>
                            </div>
                        </div>
                        <div>
                            <h3 class="font-bold text-slate-900 dark:text-white mb-1">Email Us</h3>
                            <p class="text-sm text-slate-600 dark:text-slate-400 mb-2">Direct inquiries to our team</p>
                            <a class="text-primary font-semibold hover:underline" href="mailto:hello@techlynxpro.com">hello@techlynxpro.com</a>
                        </div>
                    </div>

                    <!-- Phone -->
                    <div class="flex gap-4 p-6 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800">
                        <div class="flex-shrink-0">
                            <div class="size-12 rounded-lg bg-primary/10 flex items-center justify-center text-primary">
                                <span class="material-symbols-outlined text-2xl">call</span>
                            </div>
                        </div>
                        <div>
                            <h3 class="font-bold text-slate-900 dark:text-white mb-1">Call Sales</h3>
                            <p class="text-sm text-slate-600 dark:text-slate-400 mb-2">Mon-Fri, 9am - 6pm EST</p>
                            <a class="text-primary font-semibold hover:underline" href="tel:+15206664699">+1 (520) 666-4699</a>
                        </div>
                    </div>

                    <!-- Location -->
                    <div class="flex gap-4 p-6 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800">
                        <div class="flex-shrink-0">
                            <div class="size-12 rounded-lg bg-primary/10 flex items-center justify-center text-primary">
                                <span class="material-symbols-outlined text-2xl">location_on</span>
                            </div>
                        </div>
                        <div>
                            <h3 class="font-bold text-slate-900 dark:text-white mb-1">Office Location</h3>
                            <p class="text-sm text-slate-600 dark:text-slate-400 mb-2">Visit our headquarters</p>
                            <p class="text-slate-900 dark:text-white font-medium">123 Business Avenue<br>Suite 500, New York, NY 10001</p>
                        </div>
                    </div>

                    <!-- Live Chat -->
                    <div class="flex gap-4 p-6 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800">
                        <div class="flex-shrink-0">
                            <div class="size-12 rounded-lg bg-primary/10 flex items-center justify-center text-primary">
                                <span class="material-symbols-outlined text-2xl">chat</span>
                            </div>
                        </div>
                        <div>
                            <h3 class="font-bold text-slate-900 dark:text-white mb-1">Live Chat</h3>
                            <p class="text-sm text-slate-600 dark:text-slate-400 mb-2">Available during business hours</p>
                            <button class="text-primary font-semibold hover:underline">Start Chat â†’</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="py-24 bg-slate-50 dark:bg-slate-900/30">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-slate-900 dark:text-white mb-4">Frequently Asked Questions</h2>
            <p class="text-slate-600 dark:text-slate-400">Quick answers to common questions</p>
        </div>
        <div class="space-y-4">
            <details class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl p-6 group">
                <summary class="font-bold text-slate-900 dark:text-white cursor-pointer list-none flex justify-between items-center">
                    How long does it take to get a response?
                    <span class="material-symbols-outlined group-open:rotate-180 transition-transform">expand_more</span>
                </summary>
                <p class="mt-4 text-slate-600 dark:text-slate-400">We typically respond to all inquiries within 24 hours during business days. For urgent requests, please call us directly.</p>
            </details>
            <details class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl p-6 group">
                <summary class="font-bold text-slate-900 dark:text-white cursor-pointer list-none flex justify-between items-center">
                    Do you offer free consultations?
                    <span class="material-symbols-outlined group-open:rotate-180 transition-transform">expand_more</span>
                </summary>
                <p class="mt-4 text-slate-600 dark:text-slate-400">Yes! We provide a free initial consultation to discuss your project requirements, goals, and how we can help you achieve them.</p>
            </details>
            <details class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl p-6 group">
                <summary class="font-bold text-slate-900 dark:text-white cursor-pointer list-none flex justify-between items-center">
                    What information should I include in my message?
                    <span class="material-symbols-outlined group-open:rotate-180 transition-transform">expand_more</span>
                </summary>
                <p class="mt-4 text-slate-600 dark:text-slate-400">Please include details about your project goals, timeline, budget range, and any specific requirements. The more information you provide, the better we can tailor our response to your needs.</p>
            </details>
            <details class="bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl p-6 group">
                <summary class="font-bold text-slate-900 dark:text-white cursor-pointer list-none flex justify-between items-center">
                    Do you work with international clients?
                    <span class="material-symbols-outlined group-open:rotate-180 transition-transform">expand_more</span>
                </summary>
                <p class="mt-4 text-slate-600 dark:text-slate-400">Absolutely! We work with clients worldwide and have experience managing projects across different time zones and regions.</p>
            </details>
        </div>
    </div>
</section>
</main>

<script>
    // Hide default messages and show popup notification
    function hideMessages() {
        document.querySelectorAll('div').forEach(function(div) {
            const classes = div.className || '';
            // Hide message containers
            if (classes.includes('max-w-7xl') && classes.includes('mx-auto') && classes.includes('px-4') && classes.includes('py-4')) {
                const hasMessage = div.querySelector('[class*="bg-green"], [class*="bg-red"], [class*="bg-blue"]');
                if (hasMessage) {
                    div.style.cssText = 'display: none !important; visibility: hidden !important; height: 0 !important; padding: 0 !important; margin: 0 !important; opacity: 0 !important;';
                }
            }
            // Hide colored message divs
            if ((classes.includes('bg-green') || classes.includes('bg-red') || classes.includes('bg-blue')) &&
                (classes.includes('text-green') || classes.includes('text-red') || classes.includes('text-blue'))) {
                div.style.cssText = 'display: none !important;';
            }
        });
    }
    
    function initPopup() {
        hideMessages();
        const popup = document.getElementById('notification-popup');
        if (popup) {
            setTimeout(function() {
                popup.classList.remove('translate-x-full');
                popup.classList.add('translate-x-0');
            }, 100);
            setTimeout(function() {
                closeNotification();
            }, 2000);
        }
    }
    
    function closeNotification() {
        const popup = document.getElementById('notification-popup');
        if (popup) {
            popup.classList.remove('translate-x-0');
            popup.classList.add('translate-x-full');
            setTimeout(function() {
                if (popup && popup.parentNode) popup.remove();
            }, 300);
        }
    }
    
    // Run on DOM ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initPopup);
    } else {
        initPopup();
    }
</script>

<style>
    #notification-popup {
        animation: slideInRight 0.3s ease-out;
    }
    
    @keyframes slideInRight {
        from {
            transform: translateX(100%);
        }
        to {
            transform: translateX(0);
        }
    }
</style>
{% endblock %}
